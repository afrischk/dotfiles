# Basic
set ssl_force_tls = yes
set abort_nosubject = no
set mail_check = 60
set timeout = 60
set sort = "reverse-date-received"
#set signature = "~/.mutt/signature"
set copy = no
set send_charset="utf-8"
set edit_headers=yes
set imap_check_subscribed
set sidebar_visible=no
set editor=vim

# mailcap
set mailcap_path=~/.mutt/mailcap
auto_view text/html

# gmail access
source "gpg -dq ~/.config/mutt/gmail.gpg |"

# sidebar
source ~/.config/mutt/muttrc-sidebar

# gpg
source ~/.config/mutt/gpg.rc

# bindings
bind index,pager B sidebar-toggle-visible
bind editor <space> noop
bind index,pager g group-reply
bind index G imap-fetch-mail

# change folder macros
macro index gd "<change-folder>$postponed<enter>" "go to drafts"
macro index gs "<change-folder>$record<enter>" "go to sent"
macro index gi "<change-folder>$spoolfile<Enter>" "go to inbox"
macro index gt "<change-folder>$trash<enter>" "go to trash""
macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "go to all mail"

# archive mail macro
macro index,pager \ca "<save-message>=[Gmail]/All Mail<enter><enter>" "archive mail"

# urlscan macro
macro index,pager \cb "<pipe-message> urlscan<Enter>" "call urlscan to extract URLs out of a message"
macro attach,compose \cb "<pipe-entry> urlscan<Enter>" "call urlscan to extract URLs out of a message"

# goobook
set query_command="goobook query '%s'"
macro index,pager a "<pipe-message>goobook add<return>" "add sender to google contacts"
bind editor <Tab> complete-query
